{"ast":null,"code":"import \"antd/es/message/style/css\";\nimport _message from \"antd/es/message\";\nimport axios from 'axios';\n//统一处理异常\n//优化 异步得到的不是response而是\n// 传入发请求的三个数据 url必须有 data可能没有参数 type请求方式，如果是get，不传第三个参数\nexport default function ajax(url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : \"GET\";\n  return new Promise((resolve, reject) => {\n    let promise; //1.执行异步ajax请求\n\n    if (type === \"GET\") {\n      promise = axios.get(url, {\n        params: data //请求参数配置\n\n      });\n    } else {\n      promise = axios.post(url, data);\n    }\n\n    promise.then(response => {\n      //2.成功了,调用resolve\n      resolve(response);\n    }).catch(err => {\n      //3.失败了，提示信息\n      _message.error(\"请求出错了\" + err.message);\n    });\n  });\n} //请求登录接口  分别对应三个形参  专门封装一个模块index.js\n// ajax(\"/login\", { username: \"tom\", password: \"12345\" }, \"POST\")","map":{"version":3,"names":["axios","ajax","url","data","type","Promise","resolve","reject","promise","get","params","post","then","response","catch","err","error","message"],"sources":["C:/Users/HenryWang/Desktop/back - 副本/src/api/ajax.js"],"sourcesContent":["import axios from 'axios'\r\nimport { message } from \"antd\"\r\n\r\n//统一处理异常\r\n//优化 异步得到的不是response而是\r\n\r\n// 传入发请求的三个数据 url必须有 data可能没有参数 type请求方式，如果是get，不传第三个参数\r\nexport default function ajax(url, data = {}, type = \"GET\") {\r\n\r\n  return new Promise((resolve, reject) => {\r\n    let promise\r\n    //1.执行异步ajax请求\r\n    if (type === \"GET\") {\r\n      promise = axios.get(url, {\r\n        params: data  //请求参数配置\r\n      })\r\n    } else {\r\n      promise = axios.post(url, data)\r\n    }\r\n\r\n\r\n    promise.then((response) => {\r\n      //2.成功了,调用resolve\r\n      resolve(response)\r\n    }).catch((err) => {\r\n      //3.失败了，提示信息\r\n      message.error(\"请求出错了\" + err.message)\r\n    })\r\n\r\n\r\n  })\r\n}\r\n\r\n//请求登录接口  分别对应三个形参  专门封装一个模块index.js\r\n// ajax(\"/login\", { username: \"tom\", password: \"12345\" }, \"POST\")"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAGA;AACA;AAEA;AACA,eAAe,SAASC,IAAT,CAAcC,GAAd,EAA4C;EAAA,IAAzBC,IAAyB,uEAAlB,EAAkB;EAAA,IAAdC,IAAc,uEAAP,KAAO;EAEzD,OAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;IACtC,IAAIC,OAAJ,CADsC,CAEtC;;IACA,IAAIJ,IAAI,KAAK,KAAb,EAAoB;MAClBI,OAAO,GAAGR,KAAK,CAACS,GAAN,CAAUP,GAAV,EAAe;QACvBQ,MAAM,EAAEP,IADe,CACT;;MADS,CAAf,CAAV;IAGD,CAJD,MAIO;MACLK,OAAO,GAAGR,KAAK,CAACW,IAAN,CAAWT,GAAX,EAAgBC,IAAhB,CAAV;IACD;;IAGDK,OAAO,CAACI,IAAR,CAAcC,QAAD,IAAc;MACzB;MACAP,OAAO,CAACO,QAAD,CAAP;IACD,CAHD,EAGGC,KAHH,CAGUC,GAAD,IAAS;MAChB;MACA,SAAQC,KAAR,CAAc,UAAUD,GAAG,CAACE,OAA5B;IACD,CAND;EASD,CArBM,CAAP;AAsBD,C,CAED;AACA"},"metadata":{},"sourceType":"module"}